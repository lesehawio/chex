<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Apple VisionOS Flashcard â€“ Health & Medicine</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;600&display=swap');

/* Ø±Ù†Ú¯â€ŒÙ‡Ø§ Ùˆ ØªÙ… Ù¾Ø§ÛŒÙ‡ */
:root {
  --accent:#91C200;
  --bg-dark:#05060a;
  --bg-light:#f3f4f6;
  --text-dark:#f9fafb;
  --text-light:#111827;
  --sub-dark:#9ca3af;
  --sub-light:#6b7280;
  --glass-dark:rgba(255,255,255,0.06);
  --glass-light:rgba(255,255,255,0.85);
  --border:#91C200;
}

/* Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ */
body {
  margin:0;
  padding:0;
  font-family:"Vazirmatn",sans-serif;
  background:var(--bg-dark);
  color:var(--text-dark);
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  transition:background 0.35s ease,color 0.35s ease;
}

/* ØªÙ… Ø±ÙˆØ´Ù†/ØªÛŒØ±Ù‡ */
body.light {
  background:var(--bg-light);
  color:var(--text-light);
}

/* Ù‡Ø¯Ø± Ø«Ø§Ø¨Øª */
.header {
  position:fixed;
  top:18px;
  right:18px;
  display:flex;
  align-items:center;
  gap:10px;
  z-index:10;
}

.theme-toggle {
  font-size:1.6rem;
  cursor:pointer;
  padding:6px 12px;
  border-radius:14px;
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(20px);
  transition:0.25s ease;
}
.theme-toggle:hover {
  background:rgba(255,255,255,0.18);
}

.counter {
  font-size:0.9rem;
  color:var(--sub-dark);
}
body.light .counter {
  color:var(--sub-light);
}

/* Ú©Ø§Ù†ØªÛŒÙ†Ø± Ù…Ø±Ú©Ø²ÛŒ */
.wrapper {
  width:100%;
  display:flex;
  justify-content:center;
  align-items:center;
}

.card-shell {
  width:420px;
  max-width:90vw;
  height:340px;
}

/* Ú©Ø§Ø±Øª Ø´ÛŒØ´Ù‡â€ŒØ§ÛŒ */
.card {
  width:100%;
  height:100%;
  background:var(--glass-dark);
  border-radius:26px;
  border:2px solid var(--border);
  backdrop-filter:blur(40px) saturate(180%);
  box-shadow:0 30px 80px rgba(0,0,0,0.55);
  display:flex;
  flex-direction:column;
  justify-content:space-between;
  padding:22px 24px;
  box-sizing:border-box;
  text-align:right;
  transition:transform 0.25s ease, background 0.35s ease;
  cursor:grab;
}
body.light .card {
  background:var(--glass-light);
}
.card.dragging {
  cursor:grabbing;
  transition:none;
}

/* Ø¨Ø§Ù„Ø§ÛŒ Ú©Ø§Ø±Øª */
.card-header {
  font-size:0.85rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
  color:var(--sub-dark);
}
body.light .card-header {
  color:var(--sub-light);
}

/* Ù…Ø­ØªÙˆØ§ */
.chunk {
  font-size:1.5rem;
  font-weight:700;
  margin-top:8px;
  margin-bottom:4px;
}

.meaning {
  font-size:1.05rem;
  color:var(--accent);
  margin-bottom:10px;
}

.desc {
  font-size:0.95rem;
  color:var(--sub-dark);
  margin-bottom:10px;
  line-height:1.7;
}
body.light .desc {
  color:var(--sub-light);
}

.usage {
  margin-top:6px;
  background:rgba(255,255,255,0.08);
  border-radius:14px;
  padding:10px 12px;
  font-size:0.9rem;
  line-height:1.7;
}
body.light .usage {
  background:rgba(255,255,255,0.9);
}

/* Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª */
.progress-bar {
  width:100%;
  height:6px;
  border-radius:999px;
  background:rgba(255,255,255,0.08);
  overflow:hidden;
  margin-top:10px;
}
.progress-fill {
  height:100%;
  width:0%;
  background:var(--accent);
  transition:width 0.25s ease;
}
</style>
</head>
<body>

<div class="header">
  <span id="counter" class="counter"></span>
  <div id="themeToggle" class="theme-toggle">ğŸŒ™</div>
</div>

<div class="wrapper">
  <div class="card-shell">
    <div id="card" class="card">
      <div>
        <div class="card-header">
          <span>Health Collocations</span>
          <span id="indexLabel"></span>
        </div>
        <div class="chunk" id="chunk"></div>
        <div class="meaning" id="meaning"></div>
        <div class="desc" id="desc"></div>
        <div class="usage" id="usage"></div>
      </div>
      <div class="progress-bar">
        <div id="progress" class="progress-fill"></div>
      </div>
    </div>
  </div>
</div>

<script>
// ========== Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ø²Ø´Ú©ÛŒ (health collocations) ==========
const healthCollocations = [
  // ğŸ§  Ù¾Ø§ÛŒÙ‡â€ŒØªØ±ÛŒÙ†â€ŒÙ‡Ø§
  {
    noun: {w: "headache", fa: "Ø³Ø±Ø¯Ø±Ø¯", pr: "Ù‡ÙØ¯ÙÛŒÚ©"},
    verb: {w: "have", fa: "Ø¯Ø§Ø´ØªÙ†", pr: "Ù‡Ø§Ùˆ"},
    chunk: "have a headache",
    chunkFa: "Ø³Ø±Ø¯Ø±Ø¯ Ø¯Ø§Ø´ØªÙ†"
  },
  {
    noun: {w: "cold", fa: "Ø³Ø±Ù…Ø§", pr: "Ú©ÙÙ„Ø¯"},
    verb: {w: "catch", fa: "Ø®ÙˆØ±Ø¯Ù†", pr: "Ú©ÙÚ†"},
    chunk: "catch a cold",
    chunkFa: "Ø³Ø±Ù…Ø§ Ø®ÙˆØ±Ø¯Ù†"
  },
  {
    noun: {w: "sick", fa: "Ù…Ø±ÛŒØ¶", pr: "Ø³ÛŒÚ©"},
    verb: {w: "get", fa: "Ø´Ø¯Ù†", pr: "Ú¯ÙØª"},
    chunk: "get sick",
    chunkFa: "Ù…Ø±ÛŒØ¶ Ø´Ø¯Ù†"
  },
  {
    noun: {w: "pain", fa: "Ø¯Ø±Ø¯", pr: "Ù¾ÙÛŒÙ†"},
    verb: {w: "feel", fa: "Ø§Ø­Ø³Ø§Ø³ Ú©Ø±Ø¯Ù†", pr: "ÙÛŒÙ„"},
    chunk: "feel pain",
    chunkFa: "Ø§Ø­Ø³Ø§Ø³ Ø¯Ø±Ø¯ Ø¯Ø§Ø´ØªÙ†"
  },
  {
    noun: {w: "fever", fa: "ØªØ¨", pr: "ÙÙÛŒÙˆÙØ±"},
    verb: {w: "have", fa: "Ø¯Ø§Ø´ØªÙ†", pr: "Ù‡Ø§Ùˆ"},
    chunk: "have a fever",
    chunkFa: "ØªØ¨ Ø¯Ø§Ø´ØªÙ†"
  },
  {
    noun: {w: "medicine", fa: "Ø¯Ø§Ø±Ùˆ", pr: "Ù…ÙØ¯Ø³ÙÙ†"},
    verb: {w: "take", fa: "Ø®ÙˆØ±Ø¯Ù†", pr: "ØªÙÛŒÚ©"},
    chunk: "take medicine",
    chunkFa: "Ø¯Ø§Ø±Ùˆ Ø®ÙˆØ±Ø¯Ù†"
  },
  {
    noun: {w: "doctor", fa: "Ø¯Ú©ØªØ±", pr: "Ø¯Ø§Ú©ØªÙØ±"},
    verb: {w: "see", fa: "Ø±ÙØªÙ† Ø¨Ù‡", pr: "Ø³ÛŒ"},
    chunk: "see a doctor",
    chunkFa: "Ø¯Ú©ØªØ± Ø±ÙØªÙ†"
  },
  {
    noun: {w: "doctor", fa: "Ø¯Ú©ØªØ±", pr: "Ø¯Ø§Ú©ØªÙØ±"},
    verb: {w: "visit", fa: "Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡", pr: "ÙˆÛŒØ²ÛŒØª"},
    chunk: "visit a doctor",
    chunkFa: "Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ø¨Ù‡ Ø¯Ú©ØªØ±"
  },
  {
    noun: {w: "blood pressure", fa: "ÙØ´Ø§Ø± Ø®ÙˆÙ†", pr: "Ø¨Ù„ÙØ¯ Ù¾ÙØ±ÙØ´Ø±"},
    verb: {w: "check", fa: "Ú†Ú© Ú©Ø±Ø¯Ù†", pr: "Ú†ÙÚ©"},
    chunk: "check blood pressure",
    chunkFa: "ÙØ´Ø§Ø± Ø®ÙˆÙ† Ú†Ú© Ú©Ø±Ø¯Ù†"
  },
  {
    noun: {w: "temperature", fa: "Ø¯Ù…Ø§", pr: "ØªÙÙ…Ù¾ÙØ±Ú†ÙØ±"},
    verb: {w: "measure", fa: "Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ú©Ø±Ø¯Ù†", pr: "Ù…ÙÚ˜ÙØ±"},
    chunk: "measure temperature",
    chunkFa: "Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ø¯Ù…Ø§"
  },
  // ğŸ’Š Ø¯Ø±Ù…Ø§Ù† Ùˆ Ù¾Ø²Ø´Ú©ÛŒ
  {
    noun: {w: "pill", fa: "Ù‚Ø±Øµ", pr: "Ù¾ÛŒÙ„"},
    verb: {w: "take", fa: "Ø®ÙˆØ±Ø¯Ù†", pr: "ØªÙÛŒÚ©"},
    chunk: "take a pill",
    chunkFa: "Ù‚Ø±Øµ Ø®ÙˆØ±Ø¯Ù†"
  },
  {
    noun: {w: "treatment", fa: "Ø¯Ø±Ù…Ø§Ù†", pr: "ØªØ±ÛŒØªâ€ŒÙ…ÙÙ†Øª"},
    verb: {w: "get", fa: "Ú¯Ø±ÙØªÙ†", pr: "Ú¯ÙØª"},
    chunk: "get treatment",
    chunkFa: "Ø¯Ø±Ù…Ø§Ù† Ú¯Ø±ÙØªÙ†"
  },
  {
    noun: {w: "treatment", fa: "Ø¯Ø±Ù…Ø§Ù†", pr: "ØªØ±ÛŒØªâ€ŒÙ…ÙÙ†Øª"},
    verb: {w: "receive", fa: "Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù†", pr: "Ø±ÛŒâ€ŒØ³ÛŒÙˆ"},
    chunk: "receive treatment",
    chunkFa: "Ø¯Ø±Ù…Ø§Ù† Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯Ù†"
  },
  {
    noun: {w: "treatment", fa: "Ø¯Ø±Ù…Ø§Ù†", pr: "ØªØ±ÛŒØªâ€ŒÙ…ÙÙ†Øª"},
    verb: {w: "give", fa: "Ø¯Ø§Ø¯Ù†", pr: "Ú¯ÛŒÙˆ"},
    chunk: "give treatment",
    chunkFa: "Ø¯Ø±Ù…Ø§Ù† Ø¯Ø§Ø¯Ù†"
  },
  {
    noun: {w: "medicine", fa: "Ø¯Ø§Ø±Ùˆ", pr: "Ù…ÙØ¯Ø³ÙÙ†"},
    verb: {w: "prescribe", fa: "ØªØ¬ÙˆÛŒØ² Ú©Ø±Ø¯Ù†", pr: "Ù¾Ø±ÛŒØ³Ú©Ø±Ø§ÛŒØ¨"},
    chunk: "prescribe medicine",
    chunkFa: "Ø¯Ø§Ø±Ùˆ ØªØ¬ÙˆÛŒØ² Ú©Ø±Ø¯Ù†"
  },
  {
    noun: {w: "treatment", fa: "Ø¯Ø±Ù…Ø§Ù†", pr: "ØªØ±ÛŒØªâ€ŒÙ…ÙÙ†Øª"},
    verb: {w: "follow", fa: "Ø¯Ù†Ø¨Ø§Ù„ Ú©Ø±Ø¯Ù†", pr: "ÙØ§Ù„Ùˆ"},
    chunk: "follow a treatment",
    chunkFa: "Ø¯Ø±Ù…Ø§Ù† Ø±Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ø±Ø¯Ù†"
  },
  {
    noun: {w: "disease", fa: "Ø¨ÛŒÙ…Ø§Ø±ÛŒ", pr: "Ø¯ÛŒâ€ŒØ²ÛŒØ²"},
    verb: {w: "treat", fa: "Ø¯Ø±Ù…Ø§Ù† Ú©Ø±Ø¯Ù†", pr: "ØªØ±ÛŒØª"},
    chunk: "treat a disease",
    chunkFa: "Ø¯Ø±Ù…Ø§Ù† Ø¨ÛŒÙ…Ø§Ø±ÛŒ"
  },
  {
    noun: {w: "illness", fa: "Ø¨ÛŒÙ…Ø§Ø±ÛŒ", pr: "Ø§ÛŒÙ„â€ŒÙ†ÙØ³"},
    verb: {w: "cure", fa: "Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¯Ø±Ù…Ø§Ù† Ú©Ø±Ø¯Ù†", pr: "Ú©ÛŒÙˆØ±"},
    chunk: "cure an illness",
    chunkFa: "Ø¯Ø±Ù…Ø§Ù† Ú©Ø§Ù…Ù„ Ø¨ÛŒÙ…Ø§Ø±ÛŒ"
  },
  {
    noun: {w: "pain", fa: "Ø¯Ø±Ø¯", pr: "Ù¾ÙÛŒÙ†"},
    verb: {w: "relieve", fa: "Ú©Ø§Ù‡Ø´ Ø¯Ø§Ø¯Ù†", pr: "Ø±ÛŒâ€ŒÙ„ÛŒÙˆ"},
    chunk: "relieve pain",
    chunkFa: "Ú©Ø§Ù‡Ø´ Ø¯Ø±Ø¯"
  },
  {
    noun: {w: "fever", fa: "ØªØ¨", pr: "ÙÙÛŒÙˆÙØ±"},
    verb: {w: "reduce", fa: "Ú©Ø§Ù‡Ø´ Ø¯Ø§Ø¯Ù†", pr: "Ø±ÛŒâ€ŒØ¯ÙˆØ³"},
    chunk: "reduce fever",
    chunkFa: "Ú©Ø§Ù‡Ø´ ØªØ¨"
  },
  // ğŸ¥ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ùˆ Ù…Ø¹Ø§ÛŒÙ†Ù‡
  {
    noun: {w: "appointment", fa: "ÙˆÙ‚Øª", pr: "Ø§ÙÙ¾ÙˆÛŒÙ†Øªâ€ŒÙ…ÙÙ†Øª"},
    verb: {w: "make", fa: "Ú¯Ø±ÙØªÙ†", pr: "Ù…ÙÛŒÚ©"},
    chunk: "make an appointment",
    chunkFa: "ÙˆÙ‚Øª Ú¯Ø±ÙØªÙ†"
  },
  {
    noun: {w: "appointment", fa: "ÙˆÙ‚Øª", pr: "Ø§ÙÙ¾ÙˆÛŒÙ†Øªâ€ŒÙ…ÙÙ†Øª"},
    verb: {w: "miss", fa: "Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯Ù†", pr: "Ù…ÛŒØ³"},
    chunk: "miss an appointment",
    chunkFa: "ÙˆÙ‚Øª Ø±Ø§ Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯Ù†"
  },
  {
    noun: {w: "appointment", fa: "ÙˆÙ‚Øª", pr: "Ø§ÙÙ¾ÙˆÛŒÙ†Øªâ€ŒÙ…ÙÙ†Øª"},
    verb: {w: "cancel", fa: "Ù„ØºÙˆ Ú©Ø±Ø¯Ù†", pr: "Ú©ÙÙ†Ø³ÙÙ„"},
    chunk: "cancel an appointment",
    chunkFa: "Ù„ØºÙˆ ÙˆÙ‚Øª"
  },
  {
    noun: {w: "check-up", fa: "Ú†Ú©Ø§Ù¾", pr: "Ú†Ú© Ø¢Ù¾"},
    verb: {w: "do", fa: "Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù†", pr: "Ø¯Ùˆ"},
    chunk: "do a check-up",
    chunkFa: "Ú†Ú©Ø§Ù¾ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù†"
  },
  {
    noun: {w: "tests", fa: "Ø¢Ø²Ù…Ø§ÛŒØ´â€ŒÙ‡Ø§", pr: "ØªÙØ³ØªØ³"},
    verb: {w: "run", fa: "Ú¯Ø±ÙØªÙ†", pr: "Ø±Ø§Ù†"},
    chunk: "run tests",
    chunkFa: "Ø¢Ø²Ù…Ø§ÛŒØ´ Ú¯Ø±ÙØªÙ†"
  },
  {
    noun: {w: "test", fa: "Ø¢Ø²Ù…Ø§ÛŒØ´", pr: "ØªÙØ³Øª"},
    verb: {w: "take", fa: "Ø¯Ø§Ø¯Ù†", pr: "ØªÙÛŒÚ©"},
    chunk: "take a test",
    chunkFa: "Ø¢Ø²Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù†"
  },
  {
    noun: {w: "heart", fa: "Ù‚Ù„Ø¨", pr: "Ù‡Ø§Ø±Øª"},
    verb: {w: "check", fa: "Ø¨Ø±Ø±Ø³ÛŒ Ú©Ø±Ø¯Ù†", pr: "Ú†ÙÚ©"},
    chunk: "check the heart",
    chunkFa: "Ø¨Ø±Ø±Ø³ÛŒ Ù‚Ù„Ø¨"
  },
  {
    noun: {w: "patient", fa: "Ø¨ÛŒÙ…Ø§Ø±", pr: "Ù¾ÙÛŒØ´ÙÙ†Øª"},
    verb: {w: "examine", fa: "Ù…Ø¹Ø§ÛŒÙ†Ù‡ Ú©Ø±Ø¯Ù†", pr: "Ø§ÙÚ¯Ø²ÙÙ…ÛŒÙ†"},
    chunk: "examine a patient",
    chunkFa: "Ù…Ø¹Ø§ÛŒÙ†Ù‡ Ø¨ÛŒÙ…Ø§Ø±"
  },
  {
    noun: {w: "problem", fa: "Ù…Ø´Ú©Ù„", pr: "Ù¾Ø±Ø§Ø¨Ù„Ù…"},
    verb: {w: "diagnose", fa: "ØªØ´Ø®ÛŒØµ Ø¯Ø§Ø¯Ù†", pr: "Ø¯Ø§ÛŒÙÚ¯Ù†ÙˆØ²"},
    chunk: "diagnose a problem",
    chunkFa: "ØªØ´Ø®ÛŒØµ Ù…Ø´Ú©Ù„"
  },
  {
    noun: {w: "disease", fa: "Ø¨ÛŒÙ…Ø§Ø±ÛŒ", pr: "Ø¯ÛŒâ€ŒØ²ÛŒØ²"},
    verb: {w: "detect", fa: "ØªØ´Ø®ÛŒØµ Ø¯Ø§Ø¯Ù†", pr: "Ø¯ÛŒâ€ŒØªÙÚ©Øª"},
    chunk: "detect a disease",
    chunkFa: "ØªØ´Ø®ÛŒØµ Ø¨ÛŒÙ…Ø§Ø±ÛŒ"
  },
  // ğŸ¦´ Ø¨Ø¯Ù† Ùˆ Ø¹Ù…Ù„Ú©Ø±Ø¯
  {
    noun: {w: "bone", fa: "Ø§Ø³ØªØ®ÙˆØ§Ù†", pr: "Ø¨ÙˆÙ†"},
    verb: {w: "break", fa: "Ø´Ú©Ø³ØªÙ†", pr: "Ø¨Ø±ÛŒÚ©"},
    chunk: "break a bone",
    chunkFa: "Ø´Ú©Ø³ØªÙ† Ø§Ø³ØªØ®ÙˆØ§Ù†"
  },
  {
    noun: {w: "back", fa: "Ú©Ù…Ø±", pr: "Ø¨Ú©"},
    verb: {w: "hurt", fa: "Ø¢Ø³ÛŒØ¨ Ø²Ø¯Ù† Ø¨Ù‡", pr: "Ù‡ÙØ±Øª"},
    chunk: "hurt your back",
    chunkFa: "Ø¢Ø³ÛŒØ¨ Ø¨Ù‡ Ú©Ù…Ø±"
  },
  {
    noun: {w: "muscle", fa: "Ø¹Ø¶Ù„Ù‡", pr: "Ù…Ø§Ø³ÙÙ„"},
    verb: {w: "damage", fa: "Ø¢Ø³ÛŒØ¨ Ø²Ø¯Ù† Ø¨Ù‡", pr: "Ø¯ÙÙ…ÙØ¬"},
    chunk: "damage a muscle",
    chunkFa: "Ø¢Ø³ÛŒØ¨ Ø¨Ù‡ Ø¹Ø¶Ù„Ù‡"
  },
  {
    noun: {w: "muscle", fa: "Ø¹Ø¶Ù„Ù‡", pr: "Ù…Ø§Ø³ÙÙ„"},
    verb: {w: "stretch", fa: "Ú©Ø´ Ø¢Ù…Ø¯Ù†", pr: "Ø§ÙØ³ØªØ±Ú†"},
    chunk: "stretch a muscle",
    chunkFa: "Ú©Ø´ Ø¢Ù…Ø¯Ù† Ø¹Ø¶Ù„Ù‡"
  },
  {
    noun: {w: "muscle", fa: "Ø¹Ø¶Ù„Ù‡", pr: "Ù…Ø§Ø³ÙÙ„"},
    verb: {w: "pull", fa: "Ú©Ø´ÛŒØ¯Ú¯ÛŒ", pr: "Ù¾ÙˆÙ„"},
    chunk: "pull a muscle",
    chunkFa: "Ú©Ø´ÛŒØ¯Ú¯ÛŒ Ø¹Ø¶Ù„Ù‡"
  },
  {
    noun: {w: "weight", fa: "ÙˆØ²Ù†", pr: "ÙˆÙÛŒØª"},
    verb: {w: "lose", fa: "Ú©Ø§Ù‡Ø´ Ø¯Ø§Ø¯Ù†", pr: "Ù„ÙˆØ²"},
    chunk: "lose weight",
    chunkFa: "Ú©Ø§Ù‡Ø´ ÙˆØ²Ù†"
  },
  {
    noun: {w: "weight", fa: "ÙˆØ²Ù†", pr: "ÙˆÙÛŒØª"},
    verb: {w: "gain", fa: "Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù†", pr: "Ú¯ÙÛŒÙ†"},
    chunk: "gain weight",
    chunkFa: "Ø§ÙØ²Ø§ÛŒØ´ ÙˆØ²Ù†"
  },
  {
    noun: {w: "muscle", fa: "Ø¹Ø¶Ù„Ù‡", pr: "Ù…Ø§Ø³ÙÙ„"},
    verb: {w: "build", fa: "Ø³Ø§Ø®ØªÙ†", pr: "Ø¨ÛŒÙ„Ø¯"},
    chunk: "build muscle",
    chunkFa: "Ø¹Ø¶Ù„Ù‡ Ø³Ø§Ø®ØªÙ†"
  },
  {
    noun: {w: "strength", fa: "Ù‚Ø¯Ø±Øª", pr: "Ø§ÙØ³ØªØ±ÙÙ†Ú¯Ø«"},
    verb: {w: "improve", fa: "Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù†", pr: "Ø§ÛŒÙ…â€ŒÙ¾Ø±ÙˆÙˆ"},
    chunk: "improve strength",
    chunkFa: "Ø§ÙØ²Ø§ÛŒØ´ Ù‚Ø¯Ø±Øª"
  },
  {
    noun: {w: "energy", fa: "Ø§Ù†Ø±Ú˜ÛŒ", pr: "Ø§ÙÙ†ÙØ±Ø¬ÛŒ"},
    verb: {w: "increase", fa: "Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù†", pr: "Ø§ÛŒÙ†â€ŒÚ©Ø±ÛŒØ³"},
    chunk: "increase energy",
    chunkFa: "Ø§ÙØ²Ø§ÛŒØ´ Ø§Ù†Ø±Ú˜ÛŒ"
  }
];

// ========== ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ ÙØ±Ù…Øª ÙÙ„Ø´Ú©Ø§Ø±Øª ==========
const chunks = healthCollocations.map(item => {
  // Ø³Ø§Ø®Øª ØªÙˆØ¶ÛŒØ­ (desc)
  const verbText = item.verb.w;
  const nounText = item.noun.w;
  const desc = `ØªØ±Ú©ÛŒØ¨ Â«${verbText} + ${nounText}Â» Ø¨Ù‡ Ù…Ø¹Ù†ÛŒ Â«${item.chunkFa}Â» Ø§Ø³Øª.`;

  // Ø³Ø§Ø®Øª Ù…Ø«Ø§Ù„ (usage) â€“ ÛŒÚ© Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡
  // Ø¨Ø±Ø§ÛŒ ØªÙ†ÙˆØ¹ØŒ Ø¨Ø³ØªÙ‡ Ø¨Ù‡ chunk ÛŒÚ© Ø¬Ù…Ù„Ù‡ Ù…ÛŒâ€ŒØ³Ø§Ø²ÛŒÙ…
  let exampleEn = "";
  let exampleFa = "";

  if (item.chunk.includes("a ") || item.chunk.includes("an ")) {
    // Ù…Ø«Ù„Ø§Ù‹ have a headache â†’ I have a headache.
    exampleEn = `I ${item.chunk}.`;
  } else if (item.chunk.startsWith("check ") || item.chunk.startsWith("measure ")) {
    exampleEn = `The nurse will ${item.chunk}.`;
  } else if (item.chunk.startsWith("take ")) {
    exampleEn = `You should ${item.chunk}.`;
  } else {
    exampleEn = `I need to ${item.chunk}.`;
  }

  // ØªØ±Ø¬Ù…Ù‡ Ø³Ø§Ø¯Ù‡ ÙØ§Ø±Ø³ÛŒ
  if (item.chunkFa.includes("Ø¯Ø§Ø´ØªÙ†")) {
    exampleFa = `Ù…Ù† ${item.chunkFa}.`;
  } else if (item.chunkFa.includes("Ø±ÙØªÙ†") || item.chunkFa.includes("Ù…Ø±Ø§Ø¬Ø¹Ù‡")) {
    exampleFa = `Ø¨Ø§ÛŒØ¯ ${item.chunkFa}.`;
  } else if (item.chunkFa.includes("Ú¯Ø±ÙØªÙ†") || item.chunkFa.includes("Ø¯Ø§Ø¯Ù†")) {
    exampleFa = `Ù…Ù† ${item.chunkFa}.`;
  } else {
    exampleFa = `Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ ${item.chunkFa}.`;
  }

  return {
    en: item.chunk,
    fa: item.chunkFa,
    desc: desc,
    usage: `${exampleEn}\n${exampleFa}`
  };
});

// ========== Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ ==========
let index = 0;

const cardEl    = document.getElementById("card");
const chunkEl   = document.getElementById("chunk");
const meaningEl = document.getElementById("meaning");
const descEl    = document.getElementById("desc");
const usageEl   = document.getElementById("usage");
const counterEl = document.getElementById("counter");
const indexLabel= document.getElementById("indexLabel");
const progressEl= document.getElementById("progress");
const themeToggle = document.getElementById("themeToggle");

function renderCard(){
  const item = chunks[index];
  chunkEl.textContent   = item.en;
  meaningEl.textContent = item.fa;
  descEl.textContent    = item.desc;
  usageEl.innerHTML     = item.usage.replace(/\n/g,"<br>");
  counterEl.textContent = `${index+1} / ${chunks.length}`;
  indexLabel.textContent= `Card ${index+1}`;
  progressEl.style.width = ((index+1)/chunks.length)*100 + "%";
  cardEl.style.transform = "translateX(0)";
}
renderCard();

// ========== Ø¯Ø±Ú¯ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Øª Ø¨Ø¹Ø¯ÛŒ/Ù‚Ø¨Ù„ÛŒ ==========
let startX = 0;
let dragging = false;

function startDrag(e){
  dragging = true;
  cardEl.classList.add("dragging");
  startX = e.touches ? e.touches[0].clientX : e.clientX;
}

function onDrag(e){
  if(!dragging) return;
  const x = e.touches ? e.touches[0].clientX : e.clientX;
  const delta = x - startX;
  cardEl.style.transform = `translateX(${delta}px)`;
}

function endDrag(e){
  if(!dragging) return;
  dragging = false;
  cardEl.classList.remove("dragging");
  const x = e.changedTouches ? e.changedTouches[0].clientX : e.clientX;
  const delta = x - startX;
  const threshold = 80;

  if(delta > threshold && index > 0){
    index--;
  }else if(delta < -threshold && index < chunks.length-1){
    index++;
  }
  renderCard();
}

cardEl.addEventListener("mousedown", startDrag);
window.addEventListener("mousemove", onDrag);
window.addEventListener("mouseup", endDrag);

cardEl.addEventListener("touchstart", startDrag, {passive:true});
window.addEventListener("touchmove", onDrag, {passive:true});
window.addEventListener("touchend", endDrag);

// ========== ØªÙ… Ø±ÙˆØ´Ù†/ØªÛŒØ±Ù‡ ==========
themeToggle.onclick = () => {
  document.body.classList.toggle("light");
  themeToggle.textContent =
    document.body.classList.contains("light") ? "â˜€ï¸" : "ğŸŒ™";
};
</script>

</body>
</html>
